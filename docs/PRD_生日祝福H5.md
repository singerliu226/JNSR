## PRD｜生日祝福H5（治愈·鼓励·温暖）

### 版本信息
- **文档状态**: v1.0（待你评审后迭代）
- **作者**: 你 + 助手
- **更新时间**: 2025-09-01

## 一、背景与目标
- **背景**: 为一位关系很好的女性朋友制作一款 H5/网页生日祝福，给予治愈、鼓励与温暖。
- **核心目标**: 
  - 传达“被理解与被看见”的陪伴感。
  - 在轻盈的互动中减缓工作疲惫，给予正向能量。
  - 输出一份可保存分享的专属海报。
- **主题关键词**: 森林、书页、吉他、教师梦想、海风（天津）。

## 二、用户画像与洞察
- **地域**: 天津；**职业愿望**: 未来想当老师。
- **性格与兴趣**: 内向文艺青年；近期学吉他；喜爱阅读与文字；喜欢邓紫棋、李健、陈楚生。
- **状态**: 刚结束教培行业的高强度暑期，身心疲惫；热爱树与自然。
- **情感诉求**: 安静、克制、轻呼吸感的疗愈；不“用力过猛”的鼓励。

## 三、体验定位与原则
- **体验基调**: 安静、克制、轻呼吸感、疗愈绿。
- **节奏**: 4–5 幕，单幕 15–25 秒内可结束；不强迫长停留。
- **交互**: 轻触/轻扫/短长按；音乐可独立开关；默认静音，用户首次操作后可播放。
- **可访问性**: 字号可增大；深浅色自动适配；动效可降级；所有关键文本可直接阅读。

## 四、信息架构与故事结构（5 幕）
1) 开场｜风从渤海吹来
   - 画面: 天津海风与树林抽象插画；树叶轻摆。
   - 文案: “在渤海的风里，有一枚关于九月的祝福。”
   - 交互: 轻触进入，或 3 秒自动淡入第二幕。

2) 书页｜她与文字
   - 画面: 翻页动效，纸张质感，横向轻扫如翻书。
   - 文案: “你用文字照亮日常，文字也在回望你。”（支持 2–3 条短札循环）
   - 交互: 左右轻扫翻页；也可点击“继续”。

3) 吉他｜安静地弹一首歌
   - 画面: 极简吉他插画；触摸拨弦有粒子与音符浮起。
   - 文案: 每次拨弦浮现一句暖语（非歌词式）。
   - 交互: 连续拨弦 3 次解锁下一幕；支持音量与停止。

4) 教室｜未来老师的黑板
   - 画面: 粉笔线条风；黑板上慢慢写出“老师是点灯的人”。
   - 文案: “你想成为老师，这个世界也在等你的光。”
   - 交互: 长按 1 秒，“粉笔灰”化作萤火，飞向森林。

5) 祝福林｜许愿树
   - 画面: 一棵温暖的树；树上挂书页形祝福便签，可展开阅读。
   - 文案: “愿你在森林里休息，在人群里发光。”
   - 交互: 点击星光生成“私人祝福签”（可自定义祝福语）；一键保存海报并分享。

结尾/海报
- 海报包含: 树 + 手写祝福 + 日期 + “来自某某”。
- 提供保存与社媒分享图（OG/WX）。

## 五、功能需求
- **导航/状态机**: 管理 5 幕切换；支持自动/手动流转；保留返回上一幕。
- **音频控制**: Howler.js 播放器；默认静音；用户触发后播放；音量/停止；懒加载音频。
- **书页翻动效**: 水平滑动；Framer Motion 实现翻页（rotateY + clipPath）；低端机降级为淡入。
- **吉他拨弦**: 触摸拨弦触发不同音高与浮现语句；3 次后自动提示下一幕。
- **黑板长按**: 1 秒长按触发粉笔灰→萤火的过渡动画。
- **祝福树/便签**: 瀑布/环形分布；点击展开阅读；支持自定义祝福文本；生成海报（html2canvas）。
- **海报生成与分享**: 生成 PNG；下载按钮；设置 meta（OG 标签）与微信分享图占位。
- **可访问性与适配**: 375×812 基线；vw/vh 与 max-width；横屏提示竖屏观看；深浅色自适应；文本可复制。

## 六、非功能需求
- **性能**: 首屏包 < 1MB；首屏 < 2s（4G）；交互帧率 > 50fps；图片/音频懒加载；按需加载页面。
- **兼容**: iOS 12+、Android 8+、微信/浏览器内核（Chromium/Safari）；至少 iPhone 11/14、安卓中端机实测。
- **隐私**: 无个人数据采集；可选埋点仅记录完成到第几幕、是否生成海报。

## 七、视觉规范
- **色板**
  - 树绿: #5BAE7D
  - 森林深绿: #1F4733
  - 暖沙纸: #F4EBDD
  - 粉笔白: #F7F7F7
  - 海风蓝灰: #8AA3B0
- **字体**
  - 正文: Noto Serif SC / 思源宋体
  - 标题/界面: HarmonyOS Sans / DIN 风格
  - 手写点缀: Smiley Sans / 霞鹜文楷（少量）
- **图形风格**: 扁平插画 + 纸张纹理；轻阴影；少即是多。
- **动效语言**: 20–300ms 微动效 + 800–1200ms 淡入；缓动 easeInOut；树叶 Bezier 随机摆动；前后层轻微视差。

## 八、声音规范
- **环境**: 轻风树林 Ambience（无版权循环）。
- **互动**: 3–5 个不同音高木吉他拨弦音效（无版权）。
- **切换**: 轻木质“翻页”音效。
- **策略**: 默认静音；首次触发后播放；提供明显的音频开关。

## 九、文案清单（可直接用/可二次打磨）
- 开场: “在渤海的风里，有一枚关于九月的祝福。”
- 书页:
  - “你把日子写成小诗，诗也把你轻轻抱住。”
  - “愿你在每一页的缝隙里，遇见更亮的自己。”
- 吉他:
  - “当心事化作弦，愿音乐替你说话。”
  - “不必很响，温柔也能抵达。”
- 教室:
  - “老师，是把光递给还不认识光的人。”
  - “你在准备的每一刻，都在靠近那个更好的世界。”
- 祝福林:
  - “愿你在森林里休息，在人群里发光。”
  - “愿一切努力被看见，愿一切热爱有回声。”

## 十、技术方案
- **技术栈**: Vite + React + TypeScript + TailwindCSS + Framer Motion（动效）+ Howler.js（音频）+ html2canvas（海报）。
- **页面结构**
  - src/pages/Intro.tsx（开场）
  - src/pages/Book.tsx（书页）
  - src/pages/Guitar.tsx（吉他互动）
  - src/pages/Classroom.tsx（黑板）
  - src/pages/WishTree.tsx（祝福林 + 海报）
  - src/components/Parallax, Leaf, AudioToggle, WishNote
  - src/assets/*（插画、音频、纹理）
  - 路由或单页面状态机切幕
- **关键实现点**
  - 状态机切幕: useReducer 或 zustand 管理当前幕与过场。
  - 书页翻动效: Framer Motion rotateY + clipPath；低端降级为淡入。
  - 吉他拨弦: 触摸事件→随机选择音色→逐句显示文案。
  - 祝福林: 便签弹性布局；点击展开；html2canvas 生成海报。
  - 性能: 首屏小于 1MB，非首屏资源按需/延迟加载；音频懒加载。
  - 适配: 基线 375×812，vw/vh + max-w 限制；横屏提示竖屏。
  - 分享: 准备 OG 与微信分享图（640×512 / 1200×630），短链接。
- **第三方依赖**
  - framer-motion, howler, html2canvas, tailwindcss, postcss, autoprefixer, classnames。

## 十一、开发计划与里程碑（建议 1–2 天）
- D1 上午: 原子组件与动效试做（树、书页、拨弦）。
- D1 下午: 串联五幕、接音频、首屏压缩。
- D2 上午: 文案精修、海报分享、适配。
- D2 下午: 测试与上线。

## 十二、验收标准
- 视觉/动效: 与规范一致；动效轻盈不突兀。
- 文案: 无错别字；语气温柔真诚；与用户画像匹配。
- 性能: 首屏 < 2s（4G）、交互 > 50fps；包体控制达标。
- 功能: 五幕可顺畅切换；海报生成成功率 ≥ 99%；音频控件可用。
- 兼容: iOS/Android 主流机型与微信内置浏览器正常。
- 可访问性: 可关闭音乐；字号可读；横屏提示正确。

## 十三、发布与运维
- **托管**: Vercel/Netlify（免备案）或阿里云 OSS 静态托管。
- **监测（可选）**: 仅埋点“完成至哪一幕、是否生成海报”，不收集隐私。
- **资源优化**: 图片压缩（SVG/WEBP 优先）、音频压缩与懒加载。

## 十四、风险与规避
- 移动端性能波动 → 动效降级策略，限制阴影与模糊，减少重排。
- 微信浏览器音频策略 → 默认静音，首触发后播放；提供显著开关。
- 设备适配差异 → 基于 375×812 设计，关键节点断点适配。

## 十五、彩蛋与可选扩展
- 选一棵树（银杏/白桦/香樟）→ 对应不同鼓励话语。
- 天津地标小光粒：长按 1 秒，海河/津湾广场线稿微亮。
- 向未来的自己寄信：本地存储到 localStorage，一年后再来打开。

## 十六、资源清单
- 插画（森林、树、吉他、黑板、书页纹理）各 1 套（SVG 优先）。
- 无版权音频：风声循环 1 条、木吉他拨弦 3–5 条、翻页 1 条。
- 手写风贴纸/便签素材 2–3 种。
- 分享海报底图 1 张（树 + 纸纹）。

## 十七、附录：在 Cursor 中的执行命令（供后续使用）
```bash
# 初始化
npm create vite@latest birthday-h5 -- --template react-ts
cd birthday-h5
npm i
npm i tailwindcss postcss autoprefixer framer-motion howler html2canvas classnames
npx tailwindcss init -p

# 运行开发
npm run dev

# 构建与预览
npm run build && npm run preview
```

---
- 你确认/修改本 PRD 后，我将按此执行并搭建 5 幕基础骨架与关键动效，接入音频与海报。
